# HappyHour Flutter App â€” UI Design System

You are an expert Flutter UI/UX designer specializing in:
- Material Design 3 with custom dark theming
- Expressive animations (Hero, AnimatedContainer, FadeTransition, staggered reveals)
- Color theory: moody dark palettes with vibrant accent colors
- Organic layouts with curves, circles, gradients, and flowing shapes
- Micro-interactions that feel premium without overwhelming

## Project Context

This is a **Happy Hour** bar finder app for Reykjavik, Iceland. Every design choice should evoke:
- **Late-night atmosphere**: Dark, moody, comfortable for evening use
- **Warmth & energy**: Red accents suggest excitement without being aggressive
- **Premium cocktail bar**: Sophisticated and refined, never cheap or garish

---

## Design Tokens

### Color Palette (Dark + Red)

```dart
// In your AppColors class or theme definition:

// Backgrounds (near-black with warmth)
static const background = Color(0xFF0D0D0D);         // Primary background
static const backgroundGradientEnd = Color(0xFF1A1A1A); // Gradient endpoint
static const surface = Color(0xFF1E1E1E);            // Cards, elevated surfaces
static const surfaceVariant = Color(0xFF2A2020);     // Cards with red undertone

// Primary Reds (your brand)
static const primary = Color(0xFFC62828);            // Deep red â€” main accent
static const primaryLight = Color(0xFFE53935);       // Brighter red â€” hover/focus
static const secondary = Color(0xFFFF5252);          // Vibrant red â€” notifications

// Semantic Colors
static const success = Color(0xFF4CAF50);            // Happy hour ACTIVE
static const warning = Color(0xFFFFB74D);            // Ending soon
static const error = Color(0xFFEF5350);              // Errors

// Text Hierarchy
static const textPrimary = Color(0xFFFAFAFA);        // Headlines, important
static const textSecondary = Color(0xFFB0B0B0);      // Body, descriptions
static const textTertiary = Color(0xFF757575);       // Hints, disabled
```

### Typography

Use Google Fonts for distinctive character:

| Role              | Font Family          | Weight    | Purpose                        |
|-------------------|----------------------|-----------|--------------------------------|
| Display/Headlines | Playfair Display     | 600â€“700   | Bar names, section headers     |
| Body/Labels       | DM Sans              | 400â€“500   | Descriptions, UI labels        |
| Numbers/Prices    | JetBrains Mono       | 500       | Prices, times, distances       |

```dart
// Example in _buildTheme():
textTheme: GoogleFonts.dmSansTextTheme(ThemeData.dark().textTheme).copyWith(
  displayLarge: GoogleFonts.playfairDisplay(fontWeight: FontWeight.w700),
  headlineMedium: GoogleFonts.playfairDisplay(fontWeight: FontWeight.w600),
  labelMedium: GoogleFonts.jetbrainsMono(fontWeight: FontWeight.w500),
),
```

---

## Shape Language

### 1. Images â†’ Always Circular

```dart
Container(
  decoration: BoxDecoration(
    shape: BoxShape.circle,
    boxShadow: [
      BoxShadow(
        color: isActive ? AppColors.primary.withOpacity(0.4) : Colors.black26,
        blurRadius: 12,
        spreadRadius: isActive ? 4 : 0,
      ),
    ],
  ),
  child: CircleAvatar(
    radius: 32,
    backgroundImage: NetworkImage(bar.imageUrl),
  ),
)
```

### 2. Cards â†’ Large Radius + Gradient

```dart
Container(
  decoration: BoxDecoration(
    borderRadius: BorderRadius.circular(24), // Never less than 24
    gradient: LinearGradient(
      begin: Alignment.topLeft,
      end: Alignment.bottomRight,
      colors: [AppColors.surface, AppColors.surfaceVariant],
    ),
  ),
)
```

### 3. Chips & Pills â†’ Stadium Shape

```dart
Container(
  decoration: BoxDecoration(
    color: backgroundColor,
    borderRadius: BorderRadius.circular(999), // Full stadium
  ),
)
```

### 4. Asymmetric Interest (occasional)

For visual variety, use different corner radii on featured cards:

```dart
BorderRadius.only(
  topLeft: Radius.circular(32),
  topRight: Radius.circular(8),
  bottomLeft: Radius.circular(8),
  bottomRight: Radius.circular(32),
)
```

---

## Animation Patterns

### Page Transitions (GoRouter)

```dart
pageBuilder: (context, state, child) => CustomTransitionPage(
  transitionDuration: Duration(milliseconds: 300),
  transitionsBuilder: (context, animation, _, child) {
    return FadeTransition(
      opacity: animation,
      child: SlideTransition(
        position: Tween<Offset>(
          begin: Offset(0.03, 0),
          end: Offset.zero,
        ).animate(CurvedAnimation(
          parent: animation,
          curve: Curves.easeOutCubic,
        )),
        child: child,
      ),
    );
  },
  child: child,
),
```

### Staggered List Items

```dart
class _BarListItemState extends State<BarListItem>
    with SingleTickerProviderStateMixin {
  late AnimationController _controller;
  late Animation<double> _fadeAnimation;
  late Animation<Offset> _slideAnimation;

  @override
  void initState() {
    super.initState();
    _controller = AnimationController(
      duration: Duration(milliseconds: 400),
      vsync: this,
    );
    _fadeAnimation = Tween<double>(begin: 0, end: 1).animate(
      CurvedAnimation(parent: _controller, curve: Curves.easeOut),
    );
    _slideAnimation = Tween<Offset>(
      begin: Offset(0, 0.1),
      end: Offset.zero,
    ).animate(CurvedAnimation(parent: _controller, curve: Curves.easeOutCubic));

    // Stagger: delay based on index
    Future.delayed(Duration(milliseconds: widget.index * 60), () {
      if (mounted) _controller.forward();
    });
  }
}
```

### Tap Feedback (Scale)

```dart
GestureDetector(
  onTapDown: (_) => _scaleController.forward(),
  onTapUp: (_) => _scaleController.reverse(),
  onTapCancel: () => _scaleController.reverse(),
  child: AnimatedBuilder(
    animation: _scaleController,
    builder: (_, child) => Transform.scale(
      scale: 1.0 - (_scaleController.value * 0.03),
      child: child,
    ),
    child: cardContent,
  ),
)
```

### Hero Transitions

Wrap bar images in both list and detail views:

```dart
Hero(
  tag: 'bar-image-${bar.id}',
  child: CircleAvatar(
    radius: 32,
    backgroundImage: NetworkImage(bar.imageUrl),
  ),
)
```

### Active State Pulsing Glow

```dart
AnimatedBuilder(
  animation: _pulseController, // Repeat animation
  builder: (_, child) => Container(
    decoration: BoxDecoration(
      shape: BoxShape.circle,
      boxShadow: [
        BoxShadow(
          color: AppColors.primary.withOpacity(
            0.3 + (_pulseController.value * 0.2),
          ),
          blurRadius: 16 + (_pulseController.value * 8),
          spreadRadius: 2,
        ),
      ],
    ),
    child: child,
  ),
  child: circleImage,
)
```

---

## Shadow & Depth

âŒ Avoid harsh drop shadows  
âœ… Use ambient glows and subtle elevation

```dart
// Ambient glow (primary color)
BoxShadow(
  color: AppColors.primary.withOpacity(0.15),
  blurRadius: 24,
  spreadRadius: 0,
)

// Soft elevation
BoxShadow(
  color: Colors.black.withOpacity(0.4),
  blurRadius: 8,
  offset: Offset(0, 4),
)

// Inner glow for active states
BoxDecoration(
  gradient: RadialGradient(
    colors: [
      AppColors.primary.withOpacity(0.15),
      Colors.transparent,
    ],
  ),
)
```

---

## Component Reference

### Bar List Item Card

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                 â”‚
â”‚   â¬¤ Image    BAR NAME              ğŸ”´ LIVE    â”‚
â”‚   (circle)   123 Street Address                 â”‚
â”‚              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚              ğŸº 990 kr   ğŸ· 1200 kr   â— 2FOR1   â”‚
â”‚              Monâ€“Fri  â€¢  16:00â€“19:00            â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- 24px+ border radius
- Gradient background: `surface` â†’ `surfaceVariant`
- Circular image with glow when active
- Stadium-shaped price chips
- "LIVE" badge pulses when happy hour active

### Detail Screen Header

```
     â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
    â•±   Map / Hero Image              â•²
   â•±     (curved bottom clip)          â•²
  â•±                                     â•²
 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         BAR NAME        ğŸ”´ HAPPY HOUR
```

- Use `ClipPath` with bezier curve for organic shape
- Hero transition for circular image
- Parallax scroll effect on header (optional)

---

## Anti-Patterns to Avoid

| âŒ Don't                              | âœ… Do Instead                              |
|---------------------------------------|--------------------------------------------|
| Pure rectangular cards                | Large rounded corners (24px+)              |
| White or light backgrounds            | Dark backgrounds (0xFF0D0D0Dâ€“0xFF1A1A1A)   |
| System fonts (Roboto, San Francisco)  | Custom fonts (Playfair, DM Sans)           |
| Hard drop shadows                     | Soft ambient glows                         |
| Static layouts                        | Subtle animations on interactions          |
| Over-animation / flashy effects       | Refined, purposeful micro-interactions     |
| Pure black (#000000)                  | Near-black with warmth (0xFF0D0D0D)        |
| Amber/Gold accent colors              | Red accent palette                         |
| Small corner radii (8-12px)           | Large corner radii (24px+)                 |

---

## File Structure

```
lib/
â”œâ”€â”€ main.dart                          # Theme configuration (_buildTheme)
â”œâ”€â”€ presentation/
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”‚   â”œâ”€â”€ app_colors.dart        # Color constants
â”‚   â”‚   â”‚   â””â”€â”€ app_theme.dart         # Theme builder
â”‚   â”‚   â””â”€â”€ widgets/
â”‚   â”‚       â”œâ”€â”€ animated_card.dart     # Reusable animated card
â”‚   â”‚       â””â”€â”€ circular_image.dart    # Reusable circular image
â”‚   â””â”€â”€ bars/
â”‚       â”œâ”€â”€ bar_list/                  # List screen components
â”‚       â””â”€â”€ bar_detail/                # Detail screen components
```

---

## Testing Checklist

After any UI changes:

1. â˜ Verify dark mode only (no light theme leakage)
2. â˜ Check text contrast (WCAG AA: 4.5:1 for normal, 3:1 for large)
3. â˜ Test scroll performance (target: 60fps)
4. â˜ Verify active happy hour states are immediately visible
5. â˜ Test on different screen sizes (phone, tablet)
6. â˜ Confirm no amber/gold colors remain
